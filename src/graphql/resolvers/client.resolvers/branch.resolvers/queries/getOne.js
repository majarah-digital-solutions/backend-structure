const { ApolloError } = require("apollo-server-express");
const { Branch } = require("../../../../../models");

const { isValidObjectId } = require("mongoose");

module.exports = async (_,{ id}, {user}) => {

  try {
    if(!isValidObjectId(id)) return new ApolloError("Ø®Ø·Ø§ ÙÙŠ ØµÙŠØºØ© Ø§Ù„Ù…Ø¹Ø±Ù");
    const branch = await Branch.findById(id).populate('parent')
    return branch

  } catch (error) {
    console.log("ğŸš€ ~ module.exports= ~ err:", err)
    return new ApolloError("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±");

  }

  
};
